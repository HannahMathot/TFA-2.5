"use strict";if(localStorage.getItem("end",true)==null){localStorage.clear()}else{document.querySelector(".warning").classList.add("hidden");document.querySelector(".main-image").classList.add("hidden");document.querySelector(".slider").classList.add("hidden");document.querySelector(".compteur").classList.add("hidden");document.querySelector(".range").classList.add("hidden");document.querySelector(".round").classList.add("hidden");results()}let warning=document.querySelector(".warning");let warningButton=document.querySelector(".warning__next");warningButton.addEventListener("click",()=>{warning.classList.add("hidden")});const btnPrev=document.querySelector(".slider__button--previous");const btnNext=document.querySelector(".slider__button--next");btnNext.addEventListener("click",next);btnPrev.addEventListener("click",previous);function next(){const elShow=document.querySelector(".slider__el--show");const elNext=elShow.nextElementSibling;elShow.classList.remove("slider__el--show");if(elNext){elNext.classList.add("slider__el--show")}else{const elFirst=elShow.parentNode.firstElementChild;elFirst.classList.add("slider__el--show")}}function previous(){const elShowPrev=document.querySelector(".slider__el--show");const elPrev=elShowPrev.previousElementSibling;elShowPrev.classList.remove("slider__el--show");if(elPrev){elPrev.classList.add("slider__el--show")}else{const elLast=elShowPrev.parentNode.lastElementChild;elLast.classList.add("slider__el--show")}}const slider=document.querySelector(".slider");const hammerSlider=new Hammer(slider);hammerSlider.on("swipeleft",next);hammerSlider.on("swiperight",previous);let bigTitle=document.querySelector(".big-title");let smallTitle=document.querySelector(".small-title");let mainImage=document.querySelector(".main-image");let nextButton=document.querySelector(".next");let produitButtons=document.querySelectorAll(".slider__el button");let armoireEls=document.querySelectorAll(".armoire__el");let compteur=document.querySelector(".compteur");let round=document.querySelector(".round");let produits=[{name:"lessive",state:false,callback:()=>toLessives()},{name:"adoucissant",state:false,callback:()=>toLessives()},{name:"vitres",state:false,callback:()=>toVitres()},{name:"wc",state:false,callback:()=>toWC()},{name:"tablettes",state:false,callback:()=>toTablettes()},{name:"multi",state:false,callback:()=>toMulti()},{name:"degraissant",state:false,callback:()=>toDegraissant()},{name:"desodorisant",state:false,callback:()=>toDesodorisant()},{name:"detartrant",state:false,callback:()=>toDetartrant()},{name:"liquide",state:false,callback:()=>toLiquide()}];for(const produitButton of produitButtons){produitButton.addEventListener("click",toogleProduit)}for(const armoireEl of armoireEls){armoireEl.addEventListener("click",toogleProduit)}function toogleProduit(e){let currentProduit=e.currentTarget;let currentClass=currentProduit.className.replace("slider__","").replace("armoire__el","").replace("armoire__","");currentClass=currentClass.trim();let produit=produits.find(item=>item.name==currentClass);if(produit.state){produit.state=false;goOnorNot();currentProduit.classList.add("hidden");document.querySelector(".slider__"+currentClass).classList.remove("no-background");document.querySelector(".slider__"+currentClass).classList.remove("no-background--"+currentClass);localStorage.removeItem(currentClass,true)}else{produit.state=true;goOnorNot();currentProduit.classList.add("no-background");currentProduit.classList.add("no-background--"+currentClass);document.querySelector(".armoire__"+currentClass).classList.remove("hidden");localStorage.setItem(currentClass,true)}}function goOnorNot(){if(produits.some(produit=>produit.state==true)){nextButton.addEventListener("click",toEtapeDeux)}else{nextButton.removeEventListener("click",toEtapeDeux)}}function toEtapeDeux(){slider.classList.add("hidden");for(const armoireEl of armoireEls){armoireEl.classList.add("hidden")}bigTitle.innerHTML="Etape 2 sur 2";changeProduit()}let lessiveTrue=false;function changeProduit(){let choice=produits.find(produit=>produit.state==true);if(choice&&choice.name=="adoucissant"&&lessiveTrue){choice.state=!choice.state;choice=produits.find(produit=>produit.state==true)}if(choice){if(choice.name=="lessive"){lessiveTrue=true}choice.state=!choice.state;return choice.callback()}return toGain()}function toLessives(){smallTitle.innerHTML="Combien de lessives faites-vous par mois ?";mainImage.src="assets/images/prototype/main-image/1-lave-linge.svg";compteur.classList.remove("hidden");range.classList.add("hidden");round.classList.add("hidden");compteur.classList.remove("compteur--tablettes");compteur.classList.remove("compteur--desodorisant");compteur.classList.add("compteur--lessive")}function toVitres(){smallTitle.innerHTML="Combien de fois par an lavez-vous vos fenêtres ?";mainImage.src="assets/images/prototype/main-image/2-fenetre.svg";compteur.classList.add("hidden");range.classList.remove("hidden");round.classList.add("hidden");range.classList.remove("range--multi");range.classList.remove("range--detartrant");range.classList.add("range--vitres")}function toWC(){smallTitle.innerHTML="Combien de fois par mois nettoyez-vous vos wc ?";mainImage.src="assets/images/prototype/main-image/3-wc.svg";compteur.classList.add("hidden");range.classList.add("hidden");round.classList.remove("hidden");round.classList.remove("round--degraissant");round.classList.remove("round--liquide");round.classList.add("round--wc")}function toTablettes(){smallTitle.innerHTML="Combien de lave-vaisselle faites-vous par semaine ?";mainImage.src="assets/images/prototype/main-image/4-lave-vaisselle.svg";compteur.classList.remove("hidden");range.classList.add("hidden");round.classList.add("hidden");compteur.classList.remove("compteur--lessive");compteur.classList.remove("compteur--desodorisant");compteur.classList.add("compteur--tablettes");document.querySelector(".compteur__tablettes").classList.remove("hidden")}function toMulti(){smallTitle.innerHTML="Combien de fois par mois lavez-vous vos meubles avec votre produit multi-usage ?";mainImage.src="assets/images/prototype/main-image/5-table.svg";compteur.classList.add("hidden");range.classList.remove("hidden");round.classList.add("hidden");range.classList.remove("range--vitres");range.classList.remove("range--detartrant");range.classList.add("range--multi");mainImage.classList.add("main-image--multi")}function toDegraissant(){smallTitle.innerHTML="Combien de fois par mois avez-vous besoin de votre dégraissant ?";mainImage.src="assets/images/prototype/main-image/6-frites.svg";compteur.classList.add("hidden");range.classList.add("hidden");round.classList.remove("hidden");round.classList.remove("round--wc");round.classList.remove("round--liquide");round.classList.add("round--degraissant");mainImage.classList.add("main-image--degraissant")}function toDesodorisant(){smallTitle.innerHTML="Combien de fois par mois désodorisez-vous les pièces de votre maison ?";mainImage.src="assets/images/prototype/main-image/7-desodorisant.svg";compteur.classList.remove("hidden");range.classList.add("hidden");round.classList.add("hidden");compteur.classList.remove("compteur--lessive");compteur.classList.remove("compteur--tablettes");compteur.classList.add("compteur--desodorisant");mainImage.classList.add("main-image--desodorisant")}function toDetartrant(){smallTitle.innerHTML="Combien de fois par an détartrez-vous vos canalisations ?";mainImage.src="assets/images/prototype/main-image/8-evier.svg";compteur.classList.add("hidden");range.classList.remove("hidden");round.classList.add("hidden");range.classList.remove("range--multi");range.classList.remove("range--vitres");range.classList.add("range--detartrant");mainImage.classList.add("main-image--detartrant")}function toLiquide(){smallTitle.innerHTML="Combien de fois par mois lavez-vous vos plats avec du liquide vaisselle ?";mainImage.src="assets/images/prototype/main-image/9-casserole.svg";compteur.classList.add("hidden");range.classList.add("hidden");round.classList.remove("hidden");round.classList.remove("round--degraissant");round.classList.remove("round--wc");round.classList.add("round--liquide");mainImage.classList.add("main-image--liquide")}let add=document.querySelector(".compteur__add");let remove=document.querySelector(".compteur__remove");let currentNumber=document.querySelector(".compteur__value");add.addEventListener("click",addNumber);remove.addEventListener("click",removeNumber);let currentNumberNumber=localStorage.getItem("compteur-final-number");localStorage.setItem("compteur-final-number",currentNumberNumber);currentNumber.innerHTML=localStorage.getItem("compteur-final-number");if(currentNumberNumber==null){currentNumberNumber=10;localStorage.setItem("compteur-final-number",currentNumberNumber);localStorage.setItem("lessive-number",currentNumberNumber);localStorage.setItem("tablettes-number",currentNumberNumber);localStorage.setItem("desodorisant-number",currentNumberNumber);currentNumber.innerHTML=localStorage.getItem("compteur-final-number")}function addNumber(){remove.classList.remove("hidden");currentNumberNumber=currentNumberNumber+1;localStorage.setItem("compteur-final-number",currentNumberNumber);currentNumber.innerHTML=localStorage.getItem("compteur-final-number");if(smallTitle.textContent=="Combien de lessives faites-vous par mois ?"){localStorage.setItem("lessive-number",currentNumberNumber)}else if(smallTitle.textContent=="Combien de lave-vaisselle faites-vous par semaine ?"){localStorage.setItem("tablettes-number",currentNumberNumber)}else if(smallTitle.textContent=="Combien de fois par mois désodorisez-vous les pièces de votre maison ?"){localStorage.setItem("desodorisant-number",currentNumberNumber)}}function removeNumber(){if(currentNumberNumber==0){remove.classList.add("hidden")}else{remove.classList.remove("hidden");currentNumberNumber=currentNumberNumber-1;localStorage.setItem("compteur-final-number",currentNumberNumber);currentNumber.innerHTML=localStorage.getItem("compteur-final-number");if(smallTitle.textContent=="Combien de lessives faites-vous par mois ?"){localStorage.setItem("lessive-number",currentNumberNumber)}else if(smallTitle.textContent=="Combien de lave-vaisselle faites-vous par semaine ?"){localStorage.setItem("tablettes-number",currentNumberNumber)}else if(smallTitle.textContent=="Combien de fois par mois désodorisez-vous les pièces de votre maison ?"){localStorage.setItem("desodorisant-number",currentNumberNumber)}}}let rangeValue=document.querySelector(".range__value");let rangeBarre=document.querySelector(".range__barre");let range=document.querySelector(".range");rangeBarre.addEventListener("input",slideRange);if(this.value==null){this.value=10;localStorage.setItem("slider-range-normal-final-value",this.value);localStorage.setItem("vitres-number",this.value);localStorage.setItem("multi-number",this.value);localStorage.setItem("detartrant-number",this.value);currentNumber.innerHTML=localStorage.getItem("compteur-final-number")}function slideRange(){let value=(this.value-this.min)/(this.max-this.min)*100;localStorage.setItem("slider-range-normal-final-value",this.value);if(smallTitle.textContent=="Combien de fois par an lavez-vous vos fenêtres ?"){localStorage.setItem("vitres-number",this.value)}else if(smallTitle.textContent=="Combien de fois par mois lavez-vous vos meubles avec votre produit multi-usage ?"){localStorage.setItem("multi-number",this.value)}else if(smallTitle.textContent=="Combien de fois par an détartrez-vous vos canalisations ?"){localStorage.setItem("detartrant-number",this.value)}rangeValue.innerHTML=localStorage.getItem("slider-range-normal-final-value")}localStorage.setItem("round-value",10);localStorage.setItem("wc-number",10);localStorage.setItem("degraissant-number",10);localStorage.setItem("liquide-number",10);$("#round").roundSlider({value:10,width:5,handleSize:"+1",sliderType:"min-range",lineCap:"square",startAngle:90,animation:false,editableTooltip:false,keyboardAction:false,radius:70,handleShape:"square",handleSize:"+100",drag:function(e){$("#round__value").html(e.value);localStorage.setItem("round-value",e.value);if(smallTitle.textContent=="Combien de fois par mois nettoyez-vous vos wc ?"){localStorage.setItem("wc-number",e.value)}else if(smallTitle.textContent=="Combien de fois par mois avez-vous besoin de votre dégraissant ?"){localStorage.setItem("degraissant-number",e.value)}else if(smallTitle.textContent=="Combien de fois par mois lavez-vous vos plats avec du liquide vaisselle ?"){localStorage.setItem("liquide-number",e.value)}},change:function(e){$("#round__value").html(e.value);localStorage.setItem("round-value",e.value);if(smallTitle.textContent=="Combien de fois par mois nettoyez-vous vos wc ?"){localStorage.setItem("wc-number",e.value)}else if(smallTitle.textContent=="Combien de fois par mois avez-vous besoin de votre dégraissant ?"){localStorage.setItem("degraissant-number",e.value)}else if(smallTitle.textContent=="Combien de fois par mois lavez-vous vos plats avec du liquide vaisselle ?"){localStorage.setItem("liquide-number",e.value)}}});let finalNumber=0;let industrielNumber=0;let recettesNumber=0;function toGain(){localStorage.setItem("end",true);mainImage.classList.add("hidden");compteur.classList.add("hidden");range.classList.add("hidden");round.classList.add("hidden");if(localStorage.getItem("lessive",true)&&localStorage.getItem("adoucissant")===null){let lessiveIndustriel=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*5.01;let lessiveRecettes=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*.16;lessiveIndustriel=Math.ceil(lessiveIndustriel*100)/100;lessiveRecettes=Math.ceil(lessiveRecettes*100)/100;finalNumber=finalNumber+(lessiveIndustriel-lessiveRecettes);industrielNumber=industrielNumber+lessiveIndustriel;recettesNumber=recettesNumber+lessiveRecettes;localStorage.setItem("lessive-recettes",lessiveRecettes);localStorage.setItem("lessive-industriel",lessiveIndustriel)}else if(localStorage.getItem("adoucissant",true)&&localStorage.getItem("lessive")===null){let adoucissantIndustriel=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*2.66;let adoucissantRecettes=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*.29;adoucissantIndustriel=Math.ceil(adoucissantIndustriel*100)/100;adoucissantRecettes=Math.ceil(adoucissantRecettes*100)/100;finalNumber=finalNumber+(adoucissantIndustriel-adoucissantRecettes);industrielNumber=industrielNumber+adoucissantIndustriel;recettesNumber=recettesNumber+adoucissantRecettes;localStorage.setItem("adoucissant-recettes",adoucissantRecettes);localStorage.setItem("adoucissant-industriel",adoucissantIndustriel)}else if(localStorage.getItem("lessive",true)&&localStorage.getItem("adoucissant",true)){let lessiveIndustriel=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*5.01;let lessiveRecettes=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*.16;let adoucissantIndustriel=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*2.66;let adoucissantRecettes=parseInt(localStorage.getItem("lessive-number"),10)*.04*12*.29;lessiveIndustriel=Math.ceil(lessiveIndustriel*100)/100;adoucissantIndustriel=Math.ceil(adoucissantIndustriel*100)/100;lessiveRecettes=Math.ceil(lessiveRecettes*100)/100;adoucissantRecettes=Math.ceil(adoucissantRecettes*100)/100;let lessiveAdoucissantIndustriel=lessiveIndustriel+adoucissantIndustriel;let lessiveAdoucissantRecettes=lessiveRecettes+adoucissantRecettes;lessiveAdoucissantIndustriel=Math.ceil(lessiveAdoucissantIndustriel*100)/100;lessiveAdoucissantRecettes=Math.ceil(lessiveAdoucissantRecettes*100)/100;finalNumber=finalNumber+(lessiveAdoucissantIndustriel-lessiveAdoucissantRecettes);industrielNumber=industrielNumber+lessiveAdoucissantIndustriel;recettesNumber=recettesNumber+lessiveAdoucissantRecettes;localStorage.setItem("lessive-industriel",lessiveIndustriel);localStorage.setItem("adoucissant-industriel",adoucissantIndustriel);localStorage.setItem("lessive-recettes",lessiveRecettes);localStorage.setItem("adoucissant-recettes",adoucissantRecettes)}if(localStorage.getItem("vitres",true)){let vitresIndustriel=parseInt(localStorage.getItem("vitres-number"),10)*.15*4.07;let vitresRecettes=parseInt(localStorage.getItem("vitres-number"),10)*.15*.28;vitresIndustriel=Math.ceil(vitresIndustriel*100)/100;vitresRecettes=Math.ceil(vitresRecettes*100)/100;finalNumber=finalNumber+(vitresIndustriel-vitresRecettes);industrielNumber=industrielNumber+vitresIndustriel;recettesNumber=recettesNumber+vitresRecettes;localStorage.setItem("vitres-recettes",vitresRecettes);localStorage.setItem("vitres-industriel",vitresIndustriel)}if(localStorage.getItem("wc",true)){let wcIndustriel=parseInt(localStorage.getItem("wc-number"),10)*.03*12*2.44;let wcRecettes=parseInt(localStorage.getItem("wc-number"),10)*.03*12*.35;wcIndustriel=Math.ceil(wcIndustriel*100)/100;wcRecettes=Math.ceil(wcRecettes*100)/100;finalNumber=finalNumber+(wcIndustriel-wcRecettes);industrielNumber=industrielNumber+wcIndustriel;recettesNumber=recettesNumber+wcRecettes;localStorage.setItem("wc-recettes",wcRecettes);localStorage.setItem("wc-industriel",wcIndustriel)}if(localStorage.getItem("tablettes",true)){let tablettesIndustriel=parseInt(localStorage.getItem("tablettes-number"),10)*52*.29;let tablettesRecettes=parseInt(localStorage.getItem("tablettes-number"),10)*52*.06;tablettesIndustriel=Math.ceil(tablettesIndustriel*100)/100;tablettesRecettes=Math.ceil(tablettesRecettes*100)/100;finalNumber=finalNumber+(tablettesIndustriel-tablettesRecettes);industrielNumber=industrielNumber+tablettesIndustriel;recettesNumber=recettesNumber+tablettesRecettes;localStorage.setItem("tablettes-recettes",tablettesRecettes);localStorage.setItem("tablettes-industriel",tablettesIndustriel)}if(localStorage.getItem("multi",true)){let multiIndustriel=parseInt(localStorage.getItem("multi-number"),10)*.06*12*6.1;let multiRecettes=parseInt(localStorage.getItem("multi-number"),10)*.06*12*.29;multiIndustriel=Math.ceil(multiIndustriel*100)/100;multiRecettes=Math.ceil(multiRecettes*100)/100;finalNumber=finalNumber+(multiIndustriel-multiRecettes);industrielNumber=industrielNumber+multiIndustriel;recettesNumber=recettesNumber+multiRecettes;localStorage.setItem("multi-recettes",multiRecettes);localStorage.setItem("multi-industriel",multiIndustriel)}if(localStorage.getItem("degraissant",true)){let degraissantIndustriel=parseInt(localStorage.getItem("degraissant-number"),10)*.1*12*5.74;let degraissantRecettes=parseInt(localStorage.getItem("degraissant-number"),10)*.1*12*.68;degraissantIndustriel=Math.ceil(degraissantIndustriel*100)/100;degraissantRecettes=Math.ceil(degraissantRecettes*100)/100;finalNumber=finalNumber+(degraissantIndustriel-degraissantRecettes);industrielNumber=industrielNumber+degraissantIndustriel;recettesNumber=recettesNumber+degraissantRecettes;localStorage.setItem("degraissant-recettes",degraissantRecettes);localStorage.setItem("degraissant-industriel",degraissantIndustriel)}if(localStorage.getItem("desodorisant",true)){let desodorisantIndustriel=parseInt(localStorage.getItem("desodorisant-number"),10)*2*.0013*12*10.52;let desodorisantRecettes=parseInt(localStorage.getItem("desodorisant-number"),10)*2*.0013*12*.7;desodorisantIndustriel=Math.ceil(desodorisantIndustriel*100)/100;desodorisantRecettes=Math.ceil(desodorisantRecettes*100)/100;finalNumber=finalNumber+(desodorisantIndustriel-desodorisantRecettes);industrielNumber=industrielNumber+desodorisantIndustriel;recettesNumber=recettesNumber+desodorisantRecettes;localStorage.setItem("desodorisant-recettes",desodorisantRecettes);localStorage.setItem("desodorisant-industriel",desodorisantIndustriel)}if(localStorage.getItem("detartrant",true)){let detartrantIndustriel=parseInt(localStorage.getItem("detartrant-number"),10)*.1*3.77;let detartrantRecettes=parseInt(localStorage.getItem("detartrant-number"),10)*.1*.12;detartrantIndustriel=Math.ceil(detartrantIndustriel*100)/100;detartrantRecettes=Math.ceil(detartrantRecettes*100)/100;finalNumber=finalNumber+(detartrantIndustriel-detartrantRecettes);industrielNumber=industrielNumber+detartrantIndustriel;recettesNumber=recettesNumber+detartrantRecettes;localStorage.setItem("detartrant-recettes",detartrantRecettes);localStorage.setItem("detartrant-industriel",detartrantIndustriel)}if(localStorage.getItem("liquide",true)){let liquideIndustriel=parseInt(localStorage.getItem("liquide-number"),10)*.1*12*1.69;let liquideRecettes=parseInt(localStorage.getItem("liquide-number"))*0;liquideIndustriel=Math.ceil(liquideIndustriel*100)/100;liquideRecettes=Math.ceil(liquideRecettes*100)/100;finalNumber=finalNumber+(liquideIndustriel-liquideRecettes);industrielNumber=industrielNumber+liquideIndustriel;recettesNumber=recettesNumber+liquideRecettes;localStorage.setItem("liquide-recettes",liquideRecettes);localStorage.setItem("liquide-industriel",liquideIndustriel)}localStorage.setItem("final-number",finalNumber);localStorage.setItem("industriel-number",industrielNumber);localStorage.setItem("recettes-number",recettesNumber);results()}function results(){location.replace("http://hannah-mathot.be/projets/tfa/results.html")}